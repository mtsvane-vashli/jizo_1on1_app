# おたすけ地蔵くん (1on1傾聴サポートAI)

マネージャーと部下の1on1ミーティングを、AIが「地蔵1on1メソッド」に基づいて支援するWebアプリケーションです。リアルタイムでの傾聴サポート、会話の要約とネクストアクションの提案、過去のセッションの分析を通じて、より質の高い対話を促進し、部下の内省と成長、そして信頼関係の構築をサポートします。

## ✨ 主な機能

* **新規1on1サポート**: AIが「地蔵1on1メソッド」に基づき、リアルタイムで上司の傾聴をサポートします。
* **会話の要約と分析**: 1on1の会話履歴をAIが要約し、ネクストアクションを提案。さらにキーワードや感情を自動で抽出・分析します。
* **過去のセッションログ**: これまでの1on1の履歴を一覧で確認し、いつでも内容を振り返ることができます。
* **分析ダッシュボード**: 会話から抽出されたキーワードの傾向や、感情の推移をグラフで可視化し、対話の質を客観的に把握できます。
* **認証機能**: ユーザー登録・ログイン機能により、個人の利用環境をセキュアに保ちます。

## 🛠️ 使用技術

このプロジェクトは、モダンなJavaScript技術を用いて、フロントエンドとバックエンドが明確に分離された構成になっています。

#### フロントエンド (Frontend)

* **フレームワーク**: React (v19)
* **ルーティング**: React Router DOM
* **状態管理**: React Context API (`useContext`, `useReducer`)
* **API通信**: Fetch API を用いたサービス層 (`apiClient.js`)
* **スタイリング**: Plain CSS (CSS Variables)
* **UIライブラリ**: Chart.js (グラフ描画), Heroicons (アイコン)
* **ビルドツール**: Create React App (react-scripts)

#### バックエンド (Backend)

* **フレームワーク**: Node.js, Express (v5)
* **データベース**: SQLite
* **認証**: JWT (jsonwebtoken) + bcryptjs
* **AI**: Google Generative AI (Gemini API)
* **その他**: CORS, dotenv

## 🏗️ アーキテクチャ

今回のリファクタリングにより、保守性と拡張性の高いクリーンなアーキテクチャを導入しました。

* **バックエンド**:
    `Routes` (ルーティング) → `Controllers` (リクエスト処理) → `Services` (ビジネスロジック) → `Models` (DB操作) という責務が明確な多層構造。

* **フロントエンド**:
    `Views` (ページ) → `Components` (UI部品) → `Services` (API通信) → `Context` (グローバルな状態管理) という関心の分離を徹底した構成。

## 🚀 セットアップと実行方法

このアプリケーションをローカル環境で実行するための手順です。

### 1. 前提条件

* Node.js (v18以上を推奨)
* npm (Node.jsに同梱)

### 2. 環境変数の設定

プロジェクトの**ルートディレクトリ**（`frontend` と `backend` がある場所）に `.env` という名前のファイルを作成し、以下の内容を記述してください。

```plaintext
# .env

# Google AI Studio で取得したAPIキー
GEMINI_API_KEY="ここにあなたのGemini APIキーを貼り付け"

# JWTの署名に使う秘密の文字列 (非常に長く、ランダムな文字列にしてください)
JWT_SECRET="your_super_secret_jwt_key_that_is_long_and_random"

# (任意) バックエンドサーバーのポート番号
PORT=5000